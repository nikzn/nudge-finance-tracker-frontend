<div class="min-h-screen nudge-bg-secondary flex items-center justify-center p-6">
  <div class="w-full max-w-6xl grid lg:grid-cols-2 gap-8 items-center">
    <!-- Left Side - Features -->
    <div
      class="nudge-bg-primary rounded-2xl shadow-xl p-8 lg:p-12 transform transition-all duration-700 hover:scale-[1.02]"
    >
      <h2 class="text-3xl lg:text-4xl font-bold nudge-text-primary mb-4">
        Start your financial journey
      </h2>
      <p class="nudge-text-secondary mb-8 text-lg">
        Join thousands of users who have transformed their relationship with money using FinTrack.
      </p>

      <div class="space-y-4">
        <div
          *ngFor="let feature of features; let i = index"
          class="flex items-start gap-4 p-4 rounded-xl transition-all duration-300 hover:nudge-bg-secondary hover:translate-x-2"
        >
          <div
            class="shrink-0 w-8 h-8 nudge-primary rounded-full flex items-center justify-center shadow-lg"
          >
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2.5"
                d="M5 13l4 4L19 7"
              ></path>
            </svg>
          </div>
          <span class="nudge-text-primary font-medium text-lg">{{ feature }}</span>
        </div>
      </div>
    </div>

    <!-- Right Side - Form -->
    <div
      class="nudge-bg-primary rounded-2xl shadow-xl p-8 lg:p-12 transform transition-all duration-700"
    >
      <!-- Logo -->
      <div class="flex items-center gap-3 mb-8">
        <div class="w-12 h-12 nudge-primary rounded-xl flex items-center justify-center shadow-lg">
          <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"
            ></path>
          </svg>
        </div>
        <span class="text-2xl font-bold nudge-text-color">FinTrack</span>
      </div>

      <h1 class="text-3xl font-bold nudge-text-primary mb-2">Create account</h1>
      <p class="nudge-text-secondary mb-8">Get started with your free account today</p>

      <form [formGroup]="registerForm" (submit)="onSubmit()" class="space-y-6">
        <!-- Full Name -->
        <div class="transform transition-all duration-300">
          <label class="block text-sm font-semibold nudge-text-primary mb-2">Full Name</label>
          <p-inputgroup>
            <p-inputgroup-addon>
              <i class="pi pi-user"></i>
            </p-inputgroup-addon>
            <input pInputText placeholder="Username" formControlName="username" />
          </p-inputgroup>
          @if (name?.errors?.['required'] &&name?.dirty) {
          <small class="text-red-800">username required</small>
          } @if (name?.errors?.['whiteSpace'] &&name?.dirty) {
          <small class="text-red-800">Whitespace only is not allowed </small>
          } @if (name?.errors?.['usernameTaken']) {
          <small class="text-red-800">Username Taken </small>
          }
        </div>
        <!-- Full Name -->
        <div class="transform transition-all duration-300">
          <label class="block text-sm font-semibold nudge-text-primary mb-2">Full Name</label>
          <p-inputgroup>
            <p-inputgroup-addon>
              <i class="pi pi-user"></i>
            </p-inputgroup-addon>
            <input pInputText placeholder="Full Name" formControlName="full_name" />
          </p-inputgroup>

          @if (fullName?.errors&& fullName?.dirty) {
          <small class="text-red-800">Full Name required</small>
          }
        </div>

        <!-- Email -->
        <div class="transform transition-all duration-300">
          <label class="block text-sm font-semibold nudge-text-primary mb-2">Email</label>
          <p-inputgroup>
            <p-inputgroup-addon>
              <i class="pi pi-envelope"></i>
            </p-inputgroup-addon>
            <input pInputText placeholder="Email" formControlName="email" />
          </p-inputgroup>

          @if (email?.errors&& email?.dirty) {
          <small class="text-red-800">Email required</small>
          }
        </div>

        <!-- Password -->
        <div class="transform transition-all duration-300">
          <label class="block text-sm font-semibold nudge-text-primary mb-2">Password</label>
          <p-inputgroup>
            <p-inputgroup-addon>
              <i class="pi pi-lock"></i>
            </p-inputgroup-addon>
            <p-password [toggleMask]="true" formControlName="password" placeholder="Password" />
          </p-inputgroup>

          <!-- Password Requirements -->
          @if (password?.errors&&password?.dirty) {
          <div class="mt-3 space-y-2 text-sm">
            <div
              class="flex items-center gap-2 transition-all duration-300"
              [class]="!password?.errors?.['minLength'] ? 'text-green-600' : 'nudge-text-tertiary'"
            >
              <svg
                class="w-4 h-4 transition-transform duration-300"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                @if (!password?.errors?.['minLength']&&password?.dirty) {
                <path
                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                ></path>

                }@else {
                <circle
                  cx="10"
                  cy="10"
                  r="8"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                ></circle>

                }
              </svg>
              <span>At least 8 characters</span>
            </div>
            <div
              class="flex items-center gap-2 transition-all duration-300"
              [class]="!password?.errors?.['hasUppercase'] ? 'text-green-600' : 'nudge-text-tertiary'"
            >
              <svg
                class="w-4 h-4 transition-transform duration-300"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                @if (!password?.errors?.['hasUppercase']) {
                <path
                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                ></path>

                } @else {
                <circle
                  cx="10"
                  cy="10"
                  r="8"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                ></circle>

                }
              </svg>
              <span>Contains uppercase letter</span>
            </div>
            <div
              class="flex items-center gap-2 transition-all duration-300"
              [class]="!password?.errors?.['hasLowercase'] ? 'text-green-600' : 'nudge-text-tertiary'"
            >
              <svg
                class="w-4 h-4 transition-transform duration-300"
                [class.scale-110]="password?.errors?.['hasLowercase']"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                @if (!password?.errors?.['hasLowercase']) {
                <path
                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                ></path>

                }@else{
                <circle
                  cx="10"
                  cy="10"
                  r="8"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                ></circle>

                }
              </svg>
              <span>Contains lowercase letter</span>
            </div>
            <div
              class="flex items-center gap-2 transition-all duration-300"
              [class]="!password?.errors?.['hasNumber'] ? 'text-green-600' : 'nudge-text-tertiary'"
            >
              <svg
                class="w-4 h-4 transition-transform duration-300"
                [class.scale-110]="password?.errors?.['hasNumber']"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                @if (!password?.errors?.['hasNumber']) {
                <path
                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                ></path>

                }@else {
                <circle
                  cx="10"
                  cy="10"
                  r="8"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                ></circle>

                }
              </svg>
              <span>Contains a number</span>
            </div>
            <div
              class="flex items-center gap-2 transition-all duration-300"
              [class]="!password?.errors?.['hasSpace'] ? 'text-green-600' : 'nudge-text-tertiary'"
            >
              <svg
                class="w-4 h-4 transition-transform duration-300"
                [class.scale-110]="password?.errors?.['hasSpace']"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                @if (!password?.errors?.['hasSpace']) {
                <path
                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                ></path>

                }@else {
                <circle
                  cx="10"
                  cy="10"
                  r="8"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                ></circle>

                }
              </svg>
              <span>should not contains space</span>
            </div>
          </div>
          }
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="w-full nudge-btn font-semibold py-4 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] transition-all duration-300"
        >
          Create account
        </button>

        <!-- Sign In Link -->
        <p class="text-center nudge-text-secondary">
          Already have an account?
          <a
            routerLink="/login"
            class="nudge-text-color cursor-pointer font-semibold hover:underline transition-all duration-200"
          >
            Sign in
          </a>
        </p>
      </form>
    </div>
  </div>
</div>
@if (loaderService.loading$|async) {
<app-loader/>
}
